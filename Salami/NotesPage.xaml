<Page
    x:Class="Salami.NotesPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Salami"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Notes List Sidebar -->
        <Border Grid.Column="0" 
                Background="{StaticResource SalamiRed}"
                Padding="16">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0"
                          Text="ðŸ“ Salami Notes"
                          FontSize="24"
                          FontWeight="Bold"
                          Foreground="White"
                          Margin="0,0,0,16"/>

                <Button Grid.Row="1"
                       Content="âž• New Note"
                       Click="NewNote_Click"
                       Style="{StaticResource AccentButtonStyle}"
                       HorizontalAlignment="Stretch"
                       Margin="0,0,0,16"/>

                <ScrollViewer Grid.Row="2">
                    <StackPanel x:Name="NotesList" Spacing="8">
                        <!-- Notes will be listed here -->
                    </StackPanel>
                </ScrollViewer>
            </Grid>
        </Border>

        <!-- Note Editor -->
        <Grid Grid.Column="1" Padding="24">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Title -->
            <TextBox x:Name="NoteTitleBox"
                    Grid.Row="0"
                    PlaceholderText="Note title..."
                    FontSize="28"
                    FontWeight="SemiBold"
                    BorderThickness="0,0,0,2"
                    Margin="0,0,0,16"
                    TextChanged="NoteTitleBox_TextChanged"/>

            <!-- Metadata -->
            <StackPanel Grid.Row="1" 
                       Orientation="Horizontal" 
                       Spacing="16"
                       Margin="0,0,0,16">
                <ComboBox x:Name="NoteCategoryCombo"
                         PlaceholderText="Category"
                         Width="150"
                         SelectionChanged="NoteCategoryCombo_SelectionChanged">
                    <ComboBoxItem Content="Recipe"/>
                    <ComboBoxItem Content="Tasting Notes"/>
                    <ComboBoxItem Content="Shopping"/>
                    <ComboBoxItem Content="Research"/>
                    <ComboBoxItem Content="General"/>
                </ComboBox>

                <ComboBox x:Name="SalamiTypeCombo"
                         PlaceholderText="Salami Type"
                         Width="150">
                    <ComboBoxItem Content="Genoa"/>
                    <ComboBoxItem Content="Soppressata"/>
                    <ComboBoxItem Content="Milano"/>
                    <ComboBoxItem Content="Chorizo"/>
                    <ComboBoxItem Content="Other"/>
                </ComboBox>

                <TextBlock x:Name="LastModifiedText"
                          Text="Last modified: Never"
                          VerticalAlignment="Center"
                          Opacity="0.6"
                          FontSize="12"/>
            </StackPanel>

            <!-- Content Editor -->
            <Border Grid.Row="2"
                   Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                   CornerRadius="8"
                   Padding="16">
                <TextBox x:Name="NoteContentBox"
                        PlaceholderText="Start writing your notes here...&#x0a;&#x0a;â€¢ Document your salami tastings&#x0a;â€¢ Save recipes and ideas&#x0a;â€¢ Track your favorites&#x0a;â€¢ Research new varieties"
                        TextWrapping="Wrap"
                        AcceptsReturn="True"
                        BorderThickness="0"
                        Background="Transparent"
                        FontSize="16"
                        TextChanged="NoteContentBox_TextChanged"
                        ScrollViewer.VerticalScrollBarVisibility="Auto"/>
            </Border>

            <!-- Actions -->
            <StackPanel Grid.Row="3"
                       Orientation="Horizontal"
                       Spacing="12"
                       Margin="0,16,0,0"
                       HorizontalAlignment="Right">
                <Button Content="ðŸ—‘ï¸ Delete"
                       Click="DeleteNote_Click"
                       Foreground="Red"/>
                <Button Content="ðŸ“¤ Export"
                       Click="ExportNote_Click"/>
                <Button Content="ðŸ’¾ Save"
                       Click="SaveNote_Click"
                       Style="{StaticResource AccentButtonStyle}"/>
            </StackPanel>
        </Grid>

        <!-- Empty State (when no note selected) -->
        <Grid x:Name="EmptyState"
             Grid.Column="1"
             Visibility="Visible">
            <StackPanel VerticalAlignment="Center"
                       HorizontalAlignment="Center"
                       Spacing="16">
                <TextBlock Text="ðŸ“"
                          FontSize="72"
                          HorizontalAlignment="Center"/>
                <TextBlock Text="No note selected"
                          FontSize="24"
                          FontWeight="SemiBold"
                          HorizontalAlignment="Center"/>
                <TextBlock Text="Create a new note or select one from the sidebar"
                          Opacity="0.6"
                          HorizontalAlignment="Center"/>
            </StackPanel>
        </Grid>
    </Grid>
</Page>
